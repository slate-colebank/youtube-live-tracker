console.log("YouTube Live Tracker: Content script loaded");const l=1e4;let a=window.location.href;function r(){return a.includes("/watch?")?document.querySelector("#chat-container ytd-live-chat-frame #chatframe")?document.querySelector(".html5-video-player")?.classList.contains("playing-mode")?(console.log("watching live video (playing)"),!0):(console.log("live video is paused"),!1):(console.log("not a live video"),!1):(console.log("Not on video page"),!1)}function i(){return document.querySelector("#upload-info ytd-channel-name #text a")?.textContent?.trim()||"Unknown Channel"}async function s(e){console.log("logging...");const t=l/1e3;try{const o=(await chrome.storage.sync.get("watchTimeData")).watchTimeData||{};o[e]=(o[e]||0)+t,await chrome.storage.sync.set({watchTimeData:o}),console.log(`Saved ${t}s for ${e} (Total: ${o[e]}s)`)}catch(n){console.error("Error saving watch time:",n)}}function c(){if(a=window.location.href,r()){const e=i();s(e),console.log(`Current channel: ${e}`)}else console.log("not logging")}setInterval(c,l);setTimeout(c,1e3);
